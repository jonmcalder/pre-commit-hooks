<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Available Hooks • precommit</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Available Hooks">
<meta property="og:description" content="precommit">
<meta name="robots" content="noindex">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">precommit</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.1.3.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/why-use-hooks.html">Why hooks?</a>
    </li>
    <li>
      <a href="../articles/available-hooks.html">Available hooks</a>
    </li>
    <li>
      <a href="../articles/FAQ.html">FAQ</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/lorenzwalthert/precommit/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="available-hooks_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Available Hooks</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/lorenzwalthert/precommit/blob/master/vignettes/available-hooks.Rmd"><code>vignettes/available-hooks.Rmd</code></a></small>
      <div class="hidden name"><code>available-hooks.Rmd</code></div>

    </div>

    
    
<p>Below is a comprehensive list with all hooks from {precommit} as well as their arguments or flags, if they take any. With the standard config file that gets placed in your project with <code><a href="../reference/use_precommit.html">precommit::use_precommit()</a></code> all hooks should work out of the box, but you can further customize them as described below. Other repos also host hooks, many are listed <a href="https://pre-commit.com/hooks.html">here</a>.</p>
<div id="good-to-know" class="section level1">
<h1 class="hasAnchor">
<a href="#good-to-know" class="anchor"></a>Good to know</h1>
<p><strong>File modification</strong></p>
<p>Some hooks will fail without changing the files you want to commit, like the <code>lintr</code> hook - and you need to make manual changes for the hook to pass on the next attempt. Other hooks like the <code>styler</code> hook write to files, and if that changes the file, the hook will fail, but this means you won’t need to modify the file manually, just stage the changes and try to commit again. Below, we indicate for every hook if it modifies files or not.</p>
<p><strong>Arguments</strong></p>
<p>Arguments for the hooks are specified as described in the <a href="https://pre-commit.com/#passing-arguments-to-hooks">pre-commit.com documentation</a>.<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> You can specify arguments like this:</p>
<pre><code>repos:
-   repo: https://github.com/lorenzwalthert/precommit
    rev: v0.1.3.9000
    hooks:
    -   id: lintr
        args: [--warn-only, --key=value]</code></pre>
<p><strong>Other hook settings</strong></p>
<p>Apart from specifying the <code>args</code> key as described above, there are other hooks settings you can specify, e.g. file exclusion. If you don’t, they are inherited from the default repository’s configuration (i.e. the <code>.pre-commit-hooks.yaml</code> file in <a href="https://github.com/lorenzwalthert/precommit" class="uri">https://github.com/lorenzwalthert/precommit</a>). See the <a href="https://pre-commit.com/#pre-commit-configyaml---hooks">pre-commit documentation</a>, for the available settings.</p>
</div>
<div id="hooks" class="section level1">
<h1 class="hasAnchor">
<a href="#hooks" class="anchor"></a>Hooks</h1>
<div id="style-files" class="section level2">
<h2 class="hasAnchor">
<a href="#style-files" class="anchor"></a><code>style-files</code>
</h2>
<p>A hook to style files with <a href="https://styler.r-lib.org">styler</a>. Only commit code corresponding to the tidyverse style guide. You can pass arguments to <code>style_file(...)</code> using the <code>--key=value</code> syntax like this:</p>
<pre><code>  id: style-files
  args: [--scope=spaces, --reindention=specify_reindention('#')]</code></pre>
<p>Argument <code>style_pkg</code> and <code>style_fun</code> default to <code>styler</code> and <code>tidyverse_style</code>. If you want to use another style guide than the tidyverse style guide, you can specify it like this:</p>
<pre><code>  id: style-files
  args: [--style_pkg=pkg.with.style.guide, --style_fun=exported.style.function]</code></pre>
<p>This hook modifies files.</p>
</div>
<div id="readme-rmd-rendered" class="section level2">
<h2 class="hasAnchor">
<a href="#readme-rmd-rendered" class="anchor"></a><code>readme-rmd-rendered</code>
</h2>
<p>Make sure <code>README.Rmd</code> hasn’t been edited more recently than <code>README.md</code>, i.e. remind you to render the <code>.Rmd</code> to <code>.md</code> before committing.</p>
<p>This hook does not modify files.</p>
</div>
<div id="parsable-r" class="section level2">
<h2 class="hasAnchor">
<a href="#parsable-r" class="anchor"></a><code>parsable-R</code>
</h2>
<p>Checks if your <code>.R</code> files are “valid” R code by checking if running <code><a href="https://rdrr.io/r/base/parse.html">parse()</a></code> on them returns an error.</p>
<p>This hook does not modify files.</p>
</div>
<div id="no-browser-statement" class="section level2">
<h2 class="hasAnchor">
<a href="#no-browser-statement" class="anchor"></a><code>no-browser-statement</code>
</h2>
<p>Guarantees you that you don’t accidentally commit code with a <code><a href="https://rdrr.io/r/base/browser.html">browser()</a></code> statement in it.</p>
<p>This hook does not modify files.</p>
</div>
<div id="spell-check" class="section level2">
<h2 class="hasAnchor">
<a href="#spell-check" class="anchor"></a><code>spell-check</code>
</h2>
<p>Checks spelling with <code><a href="https://docs.ropensci.org/spelling/reference/spell_check_files.html">spelling::spell_check_files()</a></code>.</p>
<p><strong>Excluded files</strong></p>
<p>When you invoke <code><a href="../reference/use_precommit.html">precommit::use_precommit()</a></code> and <code>.pre-commit-config.yaml</code> is written to your repo (unless you specify <code>config_source</code> otherwise), we copy the expression in the <code>exclude:</code> key from spell check hook the default repository’s configuration (i.e. the <code>.pre-commit-hooks.yaml</code> file in <a href="https://github.com/lorenzwalthert/precommit" class="uri">https://github.com/lorenzwalthert/precommit</a>) into your config file, so you can easily add or remove some files. As of v0.1.3.9000, the following regex is used to exclude files following the <a href="https://pre-commit.com/#regular-expressions">verbose python regex syntax</a>:</p>
<pre><code>(?x)^(
data/.*| 
(.*/|)\.Rprofile|
(.*/|)\.Renviron|
(.*/|)\.gitignore|
(.*/|)NAMESPACE|
(.*/|)WORDLIST|
(.*/|)\.travis.yml|
(.*/|)appveyor.yml|
(.*/|)\.Rbuildignore|
(.*/|)\.pre-commit-.*|
.*\.[rR]|
.*\.Rproj|
.*\.py|
.*\.feather|
.*\.rds|
.*\.Rds|
.*\.sh|
.*\.RData
)$</code></pre>
<p><strong>language</strong></p>
<p>The <code>lang</code> arg will be passed to <code><a href="https://docs.ropensci.org/spelling/reference/spell_check_files.html">spelling::spell_check_files()</a></code>.</p>
<pre><code>id: spell-check
args: [--lang=&lt;language&gt;]</code></pre>
<p>This hook does not modify input files. It will add all words not found in the dictionary to <code>inst/WORDLIST</code>, assuming they were spelled correctly but were not in the dictionary. An example might be “RStudio”. The hook error message will contain all words written to <code>inst/WORDLIST</code>, so if there were really some typos, make sure to fix them and remove them from <code>inst/WORDLIST</code>. If there were not typos, or you fixed all, stage <code>inst/WORDLIST</code> and this time, the commit should pass.</p>
</div>
<div id="roxygenize" class="section level2">
<h2 class="hasAnchor">
<a href="#roxygenize" class="anchor"></a><code>roxygenize</code>
</h2>
<p>A hook to run <code><a href="https://roxygen2.r-lib.org/reference/roxygenize.html">roxygen2::roxygenize()</a></code>. Makes sure you commit your <code>.Rd</code> changes with the source changes. To take advantage of caching, you don’t need to run <code><a href="https://roxygen2.r-lib.org/reference/roxygenize.html">roxygen2::roxygenize()</a></code> manually anymore.</p>
<p>This hook does not modify input files, but writes to <code>.Rd</code> files in <code>man/</code>.</p>
</div>
<div id="deps-in-desc" class="section level2">
<h2 class="hasAnchor">
<a href="#deps-in-desc" class="anchor"></a><code>deps-in-desc</code>
</h2>
<p>Checks if packages used with the <code>pkgname::fun()</code> syntax are listed in your DESCRIPTION file. Flag <code>allow_private_imports</code> lets the user specify that private imports into the package namespace are tolerable, e.g. <code>somepkg:::x()</code>. Flag not set by default, i.e. the hook will fail if such a call is found.</p>
<pre><code>id: deps-in-desc args: [--allow_private_imports] </code></pre>
<p>This hook does not modify the file <code>DESCRIPTION</code> because the user should decide for each package if it should go to <code>Imports:</code> or <code>Suggests:</code>, which can be done easily with <code><a href="https://usethis.r-lib.org/reference/use_package.html">usethis::use_package()</a></code>. For those who use <code><a href="https://usethis.r-lib.org/reference/use_package.html">usethis::use_package()</a></code>: As long as the CRAN version of the dependency {desc} is <code>v1.2.0</code>, we recommend you to install the GitHub version because otherwise, the new dependencies won’t be added in alphabetical order and after adding a dependency, <code>use-tidy-description</code> will fail in most cases (#85)[<a href="https://github.com/r-lib/desc/pull/85" class="uri">https://github.com/r-lib/desc/pull/85</a>].</p>
</div>
<div id="use-tidy-description" class="section level2">
<h2 class="hasAnchor">
<a href="#use-tidy-description" class="anchor"></a><code>use-tidy-description</code>
</h2>
<p>A hook to run <code><a href="https://usethis.r-lib.org/reference/tidyverse.html">usethis::use_tidy_description()</a></code> to ensure dependencies are ordered alphabetically and fields are in standard order.</p>
<p>This hook does modify the file <code>DESCRIPTION</code>.</p>
</div>
<div id="lintr" class="section level2">
<h2 class="hasAnchor">
<a href="#lintr" class="anchor"></a><code>lintr</code>
</h2>
<p>A hook to run <code><a href="https://rdrr.io/pkg/lintr/man/lint_file.html">lintr::lint()</a></code> to check that R files are lint free. Argument <code>warning_only</code> changes the behavior of the pre-commit to be non-blocking. You should set this with the field <code>verbose: true</code>.</p>
<pre><code>id: lintr
args: [--warn_only]
verbose: true</code></pre>
<p>When configured this way, lintr prints lint errors as they appear. Other arguments are not supported. Instead, <code>lintr</code> config should be specified in a <code>.lintr</code> config file in Debian Control Field Format as specified in the <a href="https://github.com/jimhester/lintr#project-configuration"><code>.lintr</code> documentation</a>.</p>
<p>This hook does not modify any file.</p>
</div>
<div id="codemeta-description-updated" class="section level2">
<h2 class="hasAnchor">
<a href="#codemeta-description-updated" class="anchor"></a><code>codemeta-description-updated</code>
</h2>
<p>Make sure <code>DESCRIPTION</code> hasn’t been edited more recently than <code>codemeta.json</code>,</p>
<p>i.e. remind you to run <code>codemetar::write_codemeta()</code> in order to keep <code>codemeta.json</code> in sync with <code>DESCRIPTION</code>.</p>
<p>This hook does not modify any file.</p>
</div>
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>Note that there might be issues with arguments that contain special characters and you might have to quote them and the order of single, double and escaped quotes may not give identical results on one platform and may not be portable to all platforms either.<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by <a href="http://lorenzwalthert.netlify.com">Lorenz Walthert</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: 'ae5363c86f48f4117b4f2b9beaefa28f',
    indexName: 'lorenzwalthert_precommit',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
